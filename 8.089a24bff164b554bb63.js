(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{j8e7:function(t,e,i){"use strict";i.r(e),i.d(e,"ActivateModule",function(){return M});var n=i("ofXK"),s=i("tyNb"),o=i("3Pt+"),r=i("PSD3"),a=i.n(r),c=i("bCcq"),d=i("C3Kz"),u=i("fXoL"),l=i("oALl"),p=i("tk/3");let h=(()=>{class t{constructor(t){this.http=t,this.url=l.b+"Login/Activate"}activate(t){return this.http.post(this.url,t)}}return t.\u0275fac=function(e){return new(e||t)(u.Rb(p.b))},t.\u0275prov=u.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var b=i("l7yk");const m=["input"];function f(t,e){if(1&t){const t=u.Ob();u.Nb(0,"span"),u.Nb(1,"input",1,2),u.Ub("click",function(e){return u.hc(t),u.Wb().onClick(e)})("paste",function(i){u.hc(t);const n=e.index;return u.Wb().onPaste(i,n)})("input",function(i){u.hc(t);const n=e.index;return u.Wb().onInput(i,n)})("keydown",function(i){u.hc(t);const n=e.index;return u.Wb().onKeydown(i,n)}),u.Mb(),u.Mb()}if(2&t){const t=u.Wb();u.Cb("code-hidden",t.isCodeHidden),u.zb(1),u.bc("type",t.inputType)("disabled",t.disabled)}}const g=new u.r("CodeInputComponentConfig"),v={codeLength:4,inputType:"tel",initialFocusField:void 0,isCharsCode:!1,isCodeHidden:!1,isPrevFocusableAfterClearing:!0,isFocusingOnLastByClickIfFilled:!1,code:void 0,disabled:!1};var C=function(t){return t[t.ready=0]="ready",t[t.reset=1]="reset",t}({});let y=(()=>{class t{constructor(t){if(this.isNonDigitsCode=!1,this.codeChanged=new u.n,this.codeCompleted=new u.n,this.inputs=[],this.inputsStates=[],this.state={isFocusingAfterAppearingCompleted:!1,isInitialFocusFieldEnabled:!1},Object.assign(this,v),t)for(const e in t)t.hasOwnProperty(e)&&v.hasOwnProperty(e)&&(this[e]=t[e])}ngOnInit(){this._codeLength=this.codeLength,this.placeholders=Array(this._codeLength).fill(1),this.state.isInitialFocusFieldEnabled=!this.isEmpty(this.initialFocusField)}ngAfterViewInit(){this.inputsList.forEach(t=>{this.inputs.push(t.nativeElement),this.inputsStates.push(C.ready)}),this.onInputCodeChanges()}ngAfterViewChecked(){this.focusOnInputAfterAppearing()}ngOnChanges(t){t.code&&this.onInputCodeChanges()}reset(t=!1){this.onInputCodeChanges(),this.state.isInitialFocusFieldEnabled&&this.focusOnField(this.initialFocusField),t&&this.emitChanges()}focusOnField(t){if(t>=this._codeLength)throw new Error("The index of the focusing input box should be less than the codeLength.");this.inputs[t].focus()}onClick(t){if(!this.isFocusingOnLastByClickIfFilled)return;const e=this.inputs[this._codeLength-1];t.target!==e&&this.getCurrentFilledCode().length>=this._codeLength&&setTimeout(()=>e.focus())}onInput(t,e){const i=t.target,n=t.data||i.value;if(this.isEmpty(n))return;if(!this.canInputValue(n))return t.preventDefault(),t.stopPropagation(),this.setInputValue(i,null),void this.setStateForInput(i,C.reset);const s=n.toString().trim().split("");for(let r=0;r<s.length;r++){const t=r+e;if(t>this._codeLength-1)break;this.setInputValue(this.inputs[t],s[r])}this.emitChanges();const o=e+s.length;o>this._codeLength-1?i.blur():this.inputs[o].focus()}onPaste(t,e){t.preventDefault(),t.stopPropagation();const i=t.clipboardData?t.clipboardData.getData("text").trim():void 0;if(this.isEmpty(i))return;const n=i.split("");let s=0;for(let o=e;o<this.inputs.length&&s!==n.length;o++){const t=this.inputs[o],e=n[s];if(!this.canInputValue(e))return this.setInputValue(t,null),void this.setStateForInput(t,C.reset);this.setInputValue(t,e.toString()),s++}this.inputs[e].blur(),this.emitChanges()}onKeydown(t,e){return i=this,void 0,s=function*(){const i=t.target,n=this.isEmpty(i.value),s=e-1;(yield this.isBackspaceKey(t))&&(t.preventDefault(),this.setInputValue(i,null),n||this.emitChanges(),s<0||(n||this.isPrevFocusableAfterClearing)&&this.inputs[s].focus())},new((n=void 0)||(n=Promise))(function(e,o){function r(e){try{c(s.next(e))}catch(t){o(t)}}function a(e){try{c(s.throw(e))}catch(t){o(t)}}function c(t){var i;t.done?e(t.value):(i=t.value,i instanceof n?i:new n(function(t){t(i)})).then(r,a)}c((s=s.apply(i,[])).next())});var i,n,s}onInputCodeChanges(){if(!this.inputs.length)return;if(this.isEmpty(this.code))return void this.inputs.forEach(t=>{this.setInputValue(t,null)});const t=this.code.toString().trim().split("");let e=!0;for(const i of t)if(!this.canInputValue(i)){e=!1;break}this.inputs.forEach((i,n)=>{this.setInputValue(i,e?t[n]:null)})}focusOnInputAfterAppearing(){this.state.isInitialFocusFieldEnabled&&(this.state.isFocusingAfterAppearingCompleted||(this.focusOnField(this.initialFocusField),this.state.isFocusingAfterAppearingCompleted=document.activeElement===this.inputs[this.initialFocusField]))}emitChanges(){setTimeout(()=>this.emitCode(),50)}emitCode(){const t=this.getCurrentFilledCode();this.codeChanged.emit(t),t.length>=this._codeLength&&this.codeCompleted.emit(t)}getCurrentFilledCode(){let t="";for(const e of this.inputs)this.isEmpty(e.value)||(t+=e.value);return t}isBackspaceKey(t){return t.key&&"backspace"===t.key.toLowerCase()||t.keyCode&&8===t.keyCode?Promise.resolve(!0):t.keyCode&&229===t.keyCode?new Promise(e=>{setTimeout(()=>{const i=t.target,n=this.getStateForInput(i)===C.reset;n&&this.setStateForInput(i,C.ready),e(0===i.selectionStart&&!n)})}):Promise.resolve(!1)}setInputValue(t,e){const i="has-value",n="empty";this.isEmpty(e)?(t.value="",t.classList.remove(i),t.parentElement.classList.add(n)):(t.value=e,t.classList.add(i),t.parentElement.classList.remove(n))}canInputValue(t){return!this.isEmpty(t)&&(/^[0-9]+$/.test(t.toString())||this.isCharsCode||this.isNonDigitsCode)}setStateForInput(t,e){const i=this.inputs.indexOf(t);i<0||(this.inputsStates[i]=e)}getStateForInput(t){const e=this.inputs.indexOf(t);return this.inputsStates[e]}isEmpty(t){return null==t||!t.toString().length}}return t.\u0275fac=function(e){return new(e||t)(u.Kb(g,8))},t.\u0275cmp=u.Eb({type:t,selectors:[["code-input"]],viewQuery:function(t,e){if(1&t&&u.qc(m,1),2&t){let t;u.ec(t=u.Vb())&&(e.inputsList=t)}},inputs:{isNonDigitsCode:"isNonDigitsCode",codeLength:"codeLength",inputType:"inputType",initialFocusField:"initialFocusField",isCharsCode:"isCharsCode",isCodeHidden:"isCodeHidden",isPrevFocusableAfterClearing:"isPrevFocusableAfterClearing",isFocusingOnLastByClickIfFilled:"isFocusingOnLastByClickIfFilled",code:"code",disabled:"disabled"},outputs:{codeChanged:"codeChanged",codeCompleted:"codeCompleted"},features:[u.xb],decls:1,vars:1,consts:[[3,"code-hidden",4,"ngFor","ngForOf"],["autocomplete","one-time-code",3,"type","disabled","click","paste","input","keydown"],["input",""]],template:function(t,e){1&t&&u.mc(0,f,3,4,"span",0),2&t&&u.bc("ngForOf",e.placeholders)},directives:[n.h],styles:["[_nghost-%COMP%]{--text-security-type:disc;--item-spacing:4px;--item-height:4.375em;--item-border:1px solid #ddd;--item-border-bottom:1px solid #ddd;--item-border-has-value:1px solid #ddd;--item-border-bottom-has-value:1px solid #ddd;--item-border-focused:1px solid #ddd;--item-border-bottom-focused:1px solid #ddd;--item-shadow-focused:0px 1px 5px #ddd;--item-border-radius:5px;--item-background:transparent;--color:#171516;display:flex;transform:translateZ(0);font-size:inherit;color:var(--color)}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{display:block;flex:1;padding-right:var(--item-spacing)}[_nghost-%COMP%]   span[_ngcontent-%COMP%]:first-child{padding-left:var(--item-spacing)}[_nghost-%COMP%]   span.code-hidden[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{text-security:var(--text-security-type);-webkit-text-security:var(--text-security-type);-moz-text-security:var(--text-security-type)}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:var(--item-height);color:inherit;background:var(--item-background);text-align:center;font-size:inherit;border:var(--item-border);border-bottom:var(--item-border-bottom);border-radius:var(--item-border-radius);-webkit-appearance:none;transform:translateZ(0);-webkit-transform:translateZ(0);outline:none}[_nghost-%COMP%]   input.has-value[_ngcontent-%COMP%]{border:var(--item-border-has-value);border-bottom:var(--item-border-bottom-has-value)}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus{border:var(--item-border-focused);border-bottom:var(--item-border-bottom-focused);box-shadow:var(--item-shadow-focused)}"]}),t})(),w=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:g,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.Ib({type:t}),t.\u0275inj=u.Hb({imports:[[n.b]]}),t})();const F=[{path:"",component:(()=>{class t{constructor(t,e,i,n){this.formBuilder=t,this.activateService=e,this.router=i,this.route=n}ngOnInit(){this.username=this.route.snapshot.paramMap.get("username"),this.form=this.formBuilder.group({username:[this.username,o.m.required],password:["",o.m.required],npassword:["",o.m.required]})}activate(){if(console.log(this.pin),null===this.pin||""===this.pin||void 0===this.pin)return void d.a.ALERT_ERROR("Por favor agregar el pin");const t={userName:this.form.value.username,pin:this.pin,newPassword:Object(c.sha256)(this.form.value.password),newPasswordRepeat:Object(c.sha256)(this.form.value.npassword)};this.activateService.activate(t).subscribe(t=>{a.a.fire({title:"Bienvenido!",text:"Usuario activado correctamente",icon:"success"}),this.router.navigate(["/login"])},()=>{a.a.fire({title:"Error!",text:"Verificar informaci\xf3n ingresada",icon:"error"})})}onCodeCompleted(t){this.pin=t}}return t.\u0275fac=function(e){return new(e||t)(u.Kb(o.c),u.Kb(h),u.Kb(s.b),u.Kb(s.a))},t.\u0275cmp=u.Eb({type:t,selectors:[["app-activate"]],decls:42,vars:3,consts:[[1,"flex-shrink-0"],[1,"py-5"],[1,"container","px-5"],[1,"rounded-3","py-5","px-4","px-md-5","mb-5"],[1,"text-center","mb-5"],[1,"lead","fw-normal","mb-0","color-primary"],[1,"row","gx-5","justify-content-center"],[1,"col-lg-8","col-xl-6"],[3,"formGroup","ngSubmit"],[1,"form-floating","mb-3"],["type","text","formControlName","username","placeholder","Nombre",1,"form-control"],[1,"text-danger"],["type","password","formControlName","password","placeholder","Nombre",1,"form-control"],["type","password","formControlName","npassword","placeholder","Nombre",1,"form-control"],[1,"mb-3","text-center"],[2,"margin-bottom","10px"],[3,"codeLength","codeCompleted"],[1,"col-md-12","text-center"],["type","submit",1,"btn","button-primary",3,"disabled"]],template:function(t,e){1&t&&(u.Lb(0,"app-public-nav-bar"),u.Nb(1,"main",0),u.Nb(2,"section",1),u.Nb(3,"div",2),u.Nb(4,"div",3),u.Nb(5,"div",4),u.Nb(6,"p",5),u.Nb(7,"strong"),u.nc(8," \xa1Gracias por interesarte en ser nuestro Amigo"),u.Lb(9,"br"),u.nc(10," Poblado!"),u.Mb(),u.nc(11," Para fnalizar tu registro te hemos"),u.Lb(12,"br"),u.nc(13," enviado un pin de seguridad a tu correo. "),u.Mb(),u.Mb(),u.Nb(14,"div",6),u.Nb(15,"div",7),u.Nb(16,"form",8),u.Ub("ngSubmit",function(){return e.activate()}),u.Nb(17,"div",9),u.Lb(18,"input",10),u.Nb(19,"label"),u.nc(20,"Identificaci\xf3n "),u.Nb(21,"i",11),u.nc(22,"*"),u.Mb(),u.Mb(),u.Mb(),u.Nb(23,"div",9),u.Lb(24,"input",12),u.Nb(25,"label"),u.nc(26,"Contrase\xf1a "),u.Nb(27,"i",11),u.nc(28,"*"),u.Mb(),u.Mb(),u.Mb(),u.Nb(29,"div",9),u.Lb(30,"input",13),u.Nb(31,"label"),u.nc(32,"Repetir contrase\xf1a "),u.Nb(33,"i",11),u.nc(34,"*"),u.Mb(),u.Mb(),u.Mb(),u.Nb(35,"div",14),u.Nb(36,"label",15),u.nc(37,"Digita tu pin aqu\xed"),u.Mb(),u.Nb(38,"code-input",16),u.Ub("codeCompleted",function(t){return e.onCodeCompleted(t)}),u.Mb(),u.Mb(),u.Nb(39,"div",17),u.Nb(40,"button",18),u.nc(41,"Enviar"),u.Mb(),u.Mb(),u.Mb(),u.Mb(),u.Mb(),u.Mb(),u.Mb(),u.Mb(),u.Mb()),2&t&&(u.zb(16),u.bc("formGroup",e.form),u.zb(22),u.bc("codeLength",6),u.zb(2),u.bc("disabled",!e.form.valid))},directives:[b.a,o.n,o.h,o.e,o.b,o.g,o.d,y],styles:[""]}),t})()}];let x=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.Ib({type:t}),t.\u0275inj=u.Hb({imports:[[s.e.forChild(F)],s.e]}),t})();var I=i("3NOJ");let M=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.Ib({type:t}),t.\u0275inj=u.Hb({imports:[[n.b,x,o.k,I.a,w]]}),t})()}}]);