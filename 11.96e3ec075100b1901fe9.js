(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{kumf:function(t,n,i){"use strict";i.r(n),i.d(n,"BankAccountModule",function(){return z});var e=i("ofXK"),o=i("tyNb"),c=i("3Pt+"),a=i("oALl"),b=i("C3Kz");class r{}var s=i("fXoL"),u=i("tk/3");let d=(()=>{class t{constructor(t){this.http=t,this.url=a.b+"CuentasBancarias/"}add(t){return this.http.post(this.url+"Adicionar",t)}delete(t){return this.http.delete(this.url+"Borrar/"+t)}update(t){return this.http.post(this.url+"Actualizar",t)}list(){return this.http.get(this.url+"CuentasAmigoPoblado")}}return t.\u0275fac=function(n){return new(n||t)(s.Rb(u.b))},t.\u0275prov=s.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var l=i("VRye");let p=(()=>{class t{constructor(t){this.http=t,this.url=a.b+"Bancos/"}list(){return this.http.get(this.url+"Listar")}}return t.\u0275fac=function(n){return new(n||t)(s.Rb(u.b))},t.\u0275prov=s.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function m(t,n){if(1&t&&(s.Nb(0,"option",22),s.nc(1),s.Mb()),2&t){const t=n.$implicit;s.cc("value",t.codigo),s.zb(1),s.pc(" ",t.nombre," ")}}function h(t,n){if(1&t&&(s.Nb(0,"option",22),s.nc(1),s.Mb()),2&t){const t=n.$implicit;s.cc("value",t.codigo),s.zb(1),s.pc(" ",t.descripcion," ")}}let f=(()=>{class t{constructor(t,n,i,e,o){this.formBuilder=t,this.bankAccountService=n,this.domainService=i,this.router=e,this.bankService=o,this.tiposCuenta=[],this.tiposCuentaDef=[],this.bancos=[],this.userInfo=JSON.parse(a.d),this.isCats=!1,this.bancosCats=["90","91","92"],this.tipoCuentaCats="2"}ngOnInit(){this.form=this.formBuilder.group({numeroCuenta:["",c.m.required],tipoCuenta:["",c.m.required],codigoBanco:["",c.m.required]}),this.listTiposCuenta("enmTipoCuenta"),this.listBancos()}cambioBanco(t){this.tiposCuentaDef=this.bancosCats.includes(t.target.value)?this.tiposCuenta.filter(t=>t.codigo==this.tipoCuentaCats):this.tiposCuenta.filter(t=>t.codigo!=this.tipoCuentaCats)}add(){const t=new r;t.idAmigoPoblado=this.userInfo.id,t.numeroCuenta=this.form.value.numeroCuenta,t.tipoCuenta=parseInt(this.form.value.tipoCuenta),t.codigoBanco=this.form.value.codigoBanco,this.bankAccountService.add(t).subscribe(t=>{b.a.ALERT_SUCCESS("Cuenta bancaria creado correctamente"),this.router.navigate(["/landing/bank"])},t=>{b.a.ALERT_ERROR(t.error.statusMessageAPI)})}listTiposCuenta(t){this.domainService.getData(t).subscribe(t=>{this.tiposCuenta=t})}listBancos(){this.bankService.list().subscribe(t=>{this.bancos=t})}}return t.\u0275fac=function(n){return new(n||t)(s.Kb(c.c),s.Kb(d),s.Kb(l.a),s.Kb(o.b),s.Kb(p))},t.\u0275cmp=s.Eb({type:t,selectors:[["app-add-bank-account"]],decls:50,vars:4,consts:[[1,"container-fluid","h-100"],[1,"row","justify-content-center","h-100"],[1,"col-md-12","m-t-2","p-4","image-bank-up"],[1,"col-md-12","col-lg-8","col-xl-6","m-t-2","p-4"],[1,"h-100","form-container"],[1,"row"],[1,"text-blue"],[1,"row",3,"formGroup","ngSubmit"],[1,"col-md-12","custom-form"],[1,"text-danger"],["formControlName","codigoBanco",1,"form-control","rounded-pill",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"form-label","text-blue"],["type","text","formControlName","numeroCuenta",1,"form-control","rounded-pill"],["formControlName","tipoCuenta",1,"form-control","rounded-pill"],["type","file","file-reader","Ctrl.fileContent"],["ng-click","ctrl.agregarCertiBancaria()",1,"btn","btn-primary","rounded-pill"],[1,"col-md-12","text-center",2,"margin-top","15px"],["type","submit",1,"btn","button-primary","rounded-pill","w-150p",3,"disabled"],["type","button","routerLink","/landing/bank",1,"btn","button-danger","rounded-pill","w-150p"],[1,"col-lg-4","col-xl-6","p-0","image-bank-left"],["src","assets/img/bank.jpg",1,"img-fluid"],[3,"value"]],template:function(t,n){1&t&&(s.Nb(0,"div",0),s.Nb(1,"div",1),s.Lb(2,"div",2),s.Nb(3,"div",3),s.Nb(4,"div",4),s.Lb(5,"br"),s.Lb(6,"br"),s.Lb(7,"br"),s.Nb(8,"div",5),s.Nb(9,"h2",6),s.nc(10,"REGISTRO DE CUENTA BANCARIA"),s.Mb(),s.Nb(11,"form",7),s.Ub("ngSubmit",function(){return n.add()}),s.Nb(12,"div",8),s.Nb(13,"label",6),s.nc(14,"Banco "),s.Nb(15,"i",9),s.nc(16,"*"),s.Mb(),s.Mb(),s.Nb(17,"select",10),s.Ub("change",function(t){return n.cambioBanco(t)}),s.mc(18,m,2,2,"option",11),s.Mb(),s.Mb(),s.Nb(19,"div",8),s.Nb(20,"label",12),s.nc(21,"N\xfamero de cuenta "),s.Nb(22,"i",9),s.nc(23,"*"),s.Mb(),s.Mb(),s.Lb(24,"input",13),s.Mb(),s.Nb(25,"div",8),s.Nb(26,"label",6),s.nc(27,"Tipo de cuenta "),s.Nb(28,"i",9),s.nc(29,"*"),s.Mb(),s.Mb(),s.Nb(30,"select",14),s.mc(31,h,2,2,"option",11),s.Mb(),s.Mb(),s.Nb(32,"div",8),s.Nb(33,"label",6),s.nc(34,"Certificado Bancario "),s.Nb(35,"i",9),s.nc(36,"*"),s.Mb(),s.Mb(),s.Lb(37,"br"),s.Lb(38,"input",15),s.Nb(39,"button",16),s.Nb(40,"span"),s.nc(41,"Agregar Certificaci\xf3n Bancaria"),s.Mb(),s.Mb(),s.Mb(),s.Nb(42,"div",17),s.Nb(43,"button",18),s.nc(44," Registrar cuenta "),s.Mb(),s.Mb(),s.Nb(45,"div",17),s.Nb(46,"button",19),s.nc(47,"Regresar"),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Nb(48,"div",20),s.Lb(49,"img",21),s.Mb(),s.Mb(),s.Mb()),2&t&&(s.zb(11),s.bc("formGroup",n.form),s.zb(7),s.bc("ngForOf",n.bancos),s.zb(13),s.bc("ngForOf",n.tiposCuentaDef),s.zb(12),s.bc("disabled",!n.form.valid))},directives:[c.n,c.h,c.e,c.l,c.g,c.d,e.h,c.b,o.c,c.j,c.o],styles:["@media (max-width:992px){.image-bank-left[_ngcontent-%COMP%]{display:none}.image-bank-up[_ngcontent-%COMP%]{background-image:url(/assets/img/bank.jpg);background-position:50%;background-size:cover;height:200px}}@media (min-width:991px){.image-bank-up[_ngcontent-%COMP%]{display:none}}"]}),t})();var g=i("D8Lu");function M(t,n){1&t&&(s.Nb(0,"h1",5),s.nc(1,"Adicionar la Certificaci\xf3n Bancaria"),s.Mb())}function N(t,n){1&t&&s.Lb(0,"i",18)}function C(t,n){if(1&t){const t=s.Ob();s.Nb(0,"tr"),s.Nb(1,"td",12),s.mc(2,N,1,0,"i",13),s.Mb(),s.Nb(3,"td"),s.nc(4),s.Mb(),s.Nb(5,"td"),s.nc(6),s.Mb(),s.Nb(7,"td"),s.nc(8),s.Mb(),s.Nb(9,"td"),s.Nb(10,"button",14),s.Lb(11,"i",15),s.Mb(),s.Mb(),s.Nb(12,"td"),s.Nb(13,"button",16),s.Ub("click",function(){s.hc(t);const i=n.$implicit;return s.Wb(2).delete(i.id)}),s.Lb(14,"i",17),s.Mb(),s.Mb(),s.Mb()}if(2&t){const t=n.$implicit,i=n.index,e=s.Wb(2);s.zb(2),s.bc("ngIf",0===i),s.zb(2),s.oc(e.getBanco(t.codigoBanco)),s.zb(2),s.oc(t.numeroCuenta),s.zb(2),s.oc(e.getTipoCuenta(t.tipoCuenta)),s.zb(2),s.dc("routerLink","/landing/bank/update/",t.id,"")}}function v(t,n){if(1&t&&(s.Nb(0,"div",6),s.Nb(1,"div",7),s.Nb(2,"div",8),s.Nb(3,"table",9),s.Nb(4,"thead"),s.Nb(5,"tr"),s.Lb(6,"th",10),s.Nb(7,"th",10),s.nc(8,"Banco"),s.Mb(),s.Nb(9,"th",10),s.nc(10,"Numero cuenta"),s.Mb(),s.Nb(11,"th",10),s.nc(12,"Tipo cuenta"),s.Mb(),s.Nb(13,"th",10),s.nc(14,"Editar"),s.Mb(),s.Nb(15,"th",10),s.nc(16,"Eliminar"),s.Mb(),s.Mb(),s.Mb(),s.Nb(17,"tbody"),s.mc(18,C,15,5,"tr",11),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Mb()),2&t){const t=s.Wb();s.zb(18),s.bc("ngForOf",t.accounts)}}function k(t,n){1&t&&(s.Nb(0,"div",10),s.Nb(1,"div",11),s.nc(2,"Cargando..."),s.Mb(),s.Mb())}function B(t,n){if(1&t&&(s.Nb(0,"option",23),s.nc(1),s.Mb()),2&t){const t=n.$implicit;s.cc("value",t.codigo),s.zb(1),s.pc(" ",t.descripcion," ")}}function A(t,n){if(1&t&&(s.Nb(0,"option",23),s.nc(1),s.Mb()),2&t){const t=n.$implicit;s.cc("value",t.codigo),s.zb(1),s.pc(" ",t.nombre," ")}}function S(t,n){if(1&t){const t=s.Ob();s.Nb(0,"form",12),s.Ub("ngSubmit",function(){return s.hc(t),s.Wb().update()}),s.Nb(1,"div",13),s.Nb(2,"label",14),s.nc(3,"N\xfamero de cuenta "),s.Nb(4,"i",15),s.nc(5,"*"),s.Mb(),s.Mb(),s.Nb(6,"input",16),s.Ub("ngModelChange",function(n){return s.hc(t),s.Wb().account.numeroCuenta=n}),s.Mb(),s.Mb(),s.Nb(7,"div",13),s.Nb(8,"label"),s.nc(9,"Tipo de cuenta "),s.Nb(10,"i",15),s.nc(11,"*"),s.Mb(),s.Mb(),s.Nb(12,"select",17),s.Ub("ngModelChange",function(n){return s.hc(t),s.Wb().account.tipoCuenta=n}),s.mc(13,B,2,2,"option",18),s.Mb(),s.Mb(),s.Nb(14,"div",13),s.Nb(15,"label"),s.nc(16,"Banco "),s.Nb(17,"i",15),s.nc(18,"*"),s.Mb(),s.Mb(),s.Nb(19,"select",19),s.Ub("ngModelChange",function(n){return s.hc(t),s.Wb().account.codigoBanco=n}),s.mc(20,A,2,2,"option",18),s.Mb(),s.Mb(),s.Nb(21,"div",20),s.Nb(22,"button",21),s.nc(23,"Actualizar cuenta"),s.Mb(),s.Mb(),s.Nb(24,"div",20),s.Nb(25,"button",22),s.nc(26,"Regresar"),s.Mb(),s.Mb(),s.Mb()}if(2&t){const t=s.Wb();s.bc("formGroup",t.form),s.zb(6),s.bc("ngModel",t.account.numeroCuenta),s.zb(6),s.bc("ngModel",t.account.tipoCuenta),s.zb(1),s.bc("ngForOf",t.tiposCuenta),s.zb(6),s.bc("ngModel",t.account.codigoBanco),s.zb(1),s.bc("ngForOf",t.bancos),s.zb(2),s.bc("disabled",!t.form.valid)}}const L=[{path:"",component:(()=>{class t{constructor(t,n,i){this.bankAccountService=t,this.domainService=n,this.bankService=i,this.userInfo=JSON.parse(a.d),this.accounts=[],this.tiposCuenta=[],this.bancos=[]}ngOnInit(){this.list(),this.listTiposCuenta("enmTipoCuenta"),this.listBancos()}list(){this.bankAccountService.list().subscribe(t=>{this.accounts=t})}listTiposCuenta(t){this.domainService.getData(t).subscribe(t=>{this.tiposCuenta=t})}listBancos(){this.bankService.list().subscribe(t=>{this.bancos=t})}getTipoCuenta(t){const n=this.tiposCuenta.find(n=>n.codigo===t.toString());return void 0===n?"":n.descripcion}getBanco(t){const n=this.bancos.find(n=>n.codigo===t);return void 0===n?"":n.nombre}delete(t){b.a.ALERT_CONFIRMATION().subscribe(n=>{this.bankAccountService.delete(t).subscribe(t=>{b.a.ALERT_SUCCESS("Cuenta bancaria eliminada correctamente"),this.list()},t=>{b.a.ALERT_ERROR(t.error.statusMessageAPI)})})}}return t.\u0275fac=function(n){return new(n||t)(s.Kb(d),s.Kb(l.a),s.Kb(p))},t.\u0275cmp=s.Eb({type:t,selectors:[["app-list-bank-account"]],decls:11,vars:2,consts:[[1,"container-fluid","px-4"],["class","mt-4",4,"ngIf"],["class","card mb-4",4,"ngIf"],[1,"col-md-12","text-center"],["routerLink","/landing/bank/add",1,"btn","btn-primary"],[1,"mt-4"],[1,"card","mb-4"],[1,"card-body"],[1,"table-responsive"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],[1,"text-center"],["class","far fa-check-circle",4,"ngIf"],[1,"btn","btn-primary",3,"routerLink"],[1,"fas","fa-pencil-alt"],[1,"btn","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"far","fa-check-circle"]],template:function(t,n){1&t&&(s.Nb(0,"div",0),s.Lb(1,"app-navigation-menu"),s.mc(2,M,2,0,"h1",1),s.Lb(3,"br"),s.Lb(4,"br"),s.Lb(5,"br"),s.mc(6,v,19,1,"div",2),s.Mb(),s.Nb(7,"div",3),s.Nb(8,"div"),s.Nb(9,"button",4),s.nc(10,"Agregar Cuenta Bancaria"),s.Mb(),s.Mb(),s.Mb()),2&t&&(s.zb(2),s.bc("ngIf",0===n.accounts.length),s.zb(4),s.bc("ngIf",n.accounts.length>0))},directives:[g.a,e.i,o.c,e.h],styles:[""]}),t})()},{path:"add",component:f},{path:"update/:id",component:(()=>{class t{constructor(t,n,i,e,o,c){this.formBuilder=t,this.bankAccountService=n,this.domainService=i,this.router=e,this.route=o,this.bankService=c,this.tiposCuenta=[],this.bancos=[],this.userInfo=JSON.parse(a.d)}ngOnInit(){this.form=this.formBuilder.group({numeroCuenta:["",c.m.required],tipoCuenta:["",c.m.required],codigoBanco:["",c.m.required]}),this.listTiposCuenta("enmTipoCuenta"),this.listBancos(),this.idBank=this.route.snapshot.paramMap.get("id"),this.getBank(parseInt(this.idBank))}getBank(t){this.bankAccountService.list().subscribe(n=>{const i=n.find(n=>n.id===t);this.account=i})}update(){const t=new r;t.id=this.account.id,t.idAmigoPoblado=this.userInfo.id,t.numeroCuenta=this.form.value.numeroCuenta,t.tipoCuenta=parseInt(this.form.value.tipoCuenta),t.codigoBanco=this.form.value.codigoBanco,this.bankAccountService.update(t).subscribe(t=>{b.a.ALERT_SUCCESS("Cuenta bancaria actualizada correctamente"),this.router.navigate(["/landing/bank"])},t=>{b.a.ALERT_ERROR(t.error.statusMessageAPI)})}listTiposCuenta(t){this.domainService.getData(t).subscribe(t=>{this.tiposCuenta=t})}listBancos(){this.bankService.list().subscribe(t=>{this.bancos=t})}}return t.\u0275fac=function(n){return new(n||t)(s.Kb(c.c),s.Kb(d),s.Kb(l.a),s.Kb(o.b),s.Kb(o.a),s.Kb(p))},t.\u0275cmp=s.Eb({type:t,selectors:[["app-update-bank-account"]],decls:15,vars:2,consts:[[1,"container-fluid","h-100"],[1,"row","justify-content-center","h-100"],[1,"col-6","m-t-2","p-4"],[1,"h-100"],[1,"row"],[1,"text-primary"],["class","card",4,"ngIf"],["class","row",3,"formGroup","ngSubmit",4,"ngIf"],[1,"col-6","bg-gray","p-0"],["src","assets/img/bank.jpg",1,"img-fluid"],[1,"card"],[1,"card-body"],[1,"row",3,"formGroup","ngSubmit"],[1,"col-md-12"],[1,"form-label"],[1,"text-danger"],["type","text","formControlName","numeroCuenta",1,"form-control","rounded-pill",3,"ngModel","ngModelChange"],["formControlName","tipoCuenta",1,"form-control","rounded-pill",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","codigoBanco",1,"form-control","rounded-pill",3,"ngModel","ngModelChange"],[1,"col-md-12","text-center",2,"margin-top","15px"],["type","submit",1,"btn","button-primary","rounded-pill","w-150p",3,"disabled"],["type","button","routerLink","/landing/bank",1,"btn","button-danger","rounded-pill","w-150p"],[3,"value"]],template:function(t,n){1&t&&(s.Nb(0,"div",0),s.Nb(1,"div",1),s.Nb(2,"div",2),s.Nb(3,"div",3),s.Lb(4,"br"),s.Lb(5,"br"),s.Lb(6,"br"),s.Lb(7,"br"),s.Nb(8,"div",4),s.Nb(9,"h2",5),s.nc(10,"ACTUALIZACI\xd3N DE CUENTA BANCARIA"),s.Mb(),s.mc(11,k,3,0,"div",6),s.mc(12,S,27,7,"form",7),s.Mb(),s.Mb(),s.Mb(),s.Nb(13,"div",8),s.Lb(14,"img",9),s.Mb(),s.Mb(),s.Mb()),2&t&&(s.zb(11),s.bc("ngIf",void 0===n.account),s.zb(1),s.bc("ngIf",void 0!==n.account))},directives:[e.i,c.n,c.h,c.e,c.b,c.g,c.d,c.l,e.h,o.c,c.j,c.o],styles:[""]}),t})()}];let I=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=s.Ib({type:t}),t.\u0275inj=s.Hb({imports:[[o.e.forChild(L)],o.e]}),t})();var y=i("bCAm");let z=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=s.Ib({type:t}),t.\u0275inj=s.Hb({imports:[[e.b,I,c.k,c.f,y.a]]}),t})()}}]);